---
title: 6.10. Matriz de Compatibilidad de Versiones
description: Tabla completa de compatibilidad entre versiones de componentes y proceso
  de actualizaciÃ³n entre versiones mayores
icon: table
---

# 6.10. Matriz de Compatibilidad de Versiones

Esta documentaciÃ³n proporciona una matriz completa de compatibilidad entre las diferentes versiones de los componentes del stack tecnolÃ³gico de RetroGameCloud, junto con los procesos recomendados para actualizaciones entre versiones mayores.

## Versiones Soportadas Actualmente

<Tabs>
<Tab title="Infraestructura Base">
| Componente | VersiÃ³n MÃ­nima | VersiÃ³n Recomendada | PrÃ³xima a Deprecar | Estado |
|------------|----------------|--------------------|--------------------|---------|
| Kubernetes | 1.28.0 | 1.30.x | 1.27.x | âœ… Estable |
| kubectl | 1.28.0 | 1.30.x | 1.27.x | âœ… Estable |
| Helm | 3.12.0 | 3.14.x | 3.11.x | âœ… Estable |
| ArgoCD | 2.8.0 | 2.10.x | 2.7.x | âœ… Estable |
| Istio | 1.18.0 | 1.20.x | 1.17.x | âœ… Estable |
</Tab>
<Tab title="Runtime y Base de Datos">
| Componente | VersiÃ³n MÃ­nima | VersiÃ³n Recomendada | PrÃ³xima a Deprecar | Estado |
|------------|----------------|--------------------|--------------------|---------|
| Node.js | 18.17.0 | 20.11.x | 18.x (EOL: Apr 2025) | âœ… LTS |
| npm | 9.0.0 | 10.4.x | 8.x | âœ… Estable |
| PostgreSQL | 14.9 | 15.6 | 13.x (EOL: Nov 2025) | âœ… Estable |
| Redis | 7.0.0 | 7.2.x | 6.x | âœ… Estable |
| Kong Gateway | 3.4.0 | 3.6.x | 3.3.x | âœ… Estable |
</Tab>
<Tab title="Frontend y Herramientas">
| Componente | VersiÃ³n MÃ­nima | VersiÃ³n Recomendada | PrÃ³xima a Deprecar | Estado |
|------------|----------------|--------------------|--------------------|---------|
| React | 18.2.0 | 18.2.x | 17.x | âœ… Estable |
| js-dos | 6.22.74 | 6.22.x | 6.21.x | âœ… Estable |
| Vite | 4.4.0 | 5.1.x | 4.3.x | âœ… Estable |
| Docker | 24.0.0 | 25.0.x | 23.x | âœ… Estable |
| AWS CLI | 2.13.0 | 2.15.x | 2.12.x | âœ… Estable |
</Tab>
</Tabs>

## Matriz de Compatibilidad Cruzada

### Componentes Principales con Fechas de Soporte

<Tabs>
<Tab title="Kubernetes Ecosistema">
| Kubernetes | ArgoCD | Istio | Helm | Fecha Soporte Hasta | Estado |
|------------|---------|-------|------|---------------------|--------|
| 1.30.x | 2.10.x âœ… | 1.20.x âœ… | 3.14.x âœ… | Abril 2025 | ğŸŸ¢ Recomendado |
| 1.29.x | 2.10.x âœ… | 1.20.x âœ… | 3.14.x âœ… | Febrero 2025 | ğŸŸ¢ Soportado |
| 1.28.x | 2.8.x+ âœ… | 1.18.x+ âœ… | 3.12.x+ âœ… | Enero 2025 | ğŸŸ¡ MÃ­nimo |
| 1.27.x | 2.8.x âš ï¸ | 1.18.x âš ï¸ | 3.12.x âš ï¸ | Junio 2024 | ğŸ”´ Deprecado |
</Tab>
<Tab title="Aplicaciones y Datos">
| Node.js | PostgreSQL | Redis | Kong Gateway | Fecha Soporte Hasta | Estado |
|---------|------------|-------|--------------|---------------------|--------|
| 20.11.x | 15.6 | 7.2.x | 3.6.x | Abril 2026 (Node LTS) | ğŸŸ¢ Recomendado |
| 20.x | 15.x | 7.2.x | 3.5.x | Abril 2026 | ğŸŸ¢ Soportado |
| 18.19.x | 14.11 | 7.0.x | 3.4.x | Abril 2025 | ğŸŸ¡ MÃ­nimo |
| 18.17.x | 14.9 | 7.0.x | 3.4.x | Abril 2025 | ğŸŸ¡ MÃ­nimo |
| 18.x | 13.x | 6.x | 3.3.x | Noviembre 2025 (PostgreSQL) | ğŸ”´ Deprecado |
</Tab>
<Tab title="Frontend y Build">
| React | Vite | js-dos | Docker | Fecha Soporte Hasta | Estado |
|-------|------|--------|--------|---------------------|--------|
| 18.2.x | 5.1.x | 6.22.x | 25.0.x | Continuo | ğŸŸ¢ Recomendado |
| 18.2.0 | 5.0.x | 6.22.x | 24.0.x | Continuo | ğŸŸ¢ Soportado |
| 18.0.x | 4.5.x | 6.22.74 | 24.0.0 | Continuo | ğŸŸ¡ MÃ­nimo |
| 17.x | 4.4.x | 6.21.x | 23.x | Marzo 2024 | ğŸ”´ Deprecado |
</Tab>
</Tabs>

### Calendarios de Vida Ãštil (EOL)

<Warning>
**Fechas crÃ­ticas prÃ³ximas:**
- **Node.js 18.x**: EOL Abril 2025 - Migrar a Node.js 20.x LTS
- **PostgreSQL 13.x**: EOL Noviembre 2025 - Actualizar a PostgreSQL 15.x
- **Kubernetes 1.27.x**: Ya deprecado - Actualizar inmediatamente
</Warning>

## Proceso de ActualizaciÃ³n Entre Versiones Mayores

### 1. PlanificaciÃ³n Pre-ActualizaciÃ³n

<Steps>
<Step title="AnÃ¡lisis de Compatibilidad">
Revisar la matriz de compatibilidad para identificar dependencias crÃ­ticas:

```bash
# Verificar versiones actuales
kubectl version --client --short
helm version --short
argocd version --client
node --version
psql --version
```
</Step>

<Step title="Backup Completo">
Crear respaldos de todos los datos crÃ­ticos:

```bash
# Backup de PostgreSQL
kubectl exec -n database postgresql-0 -- \
  pg_dumpall -U postgres > backup-$(date +%Y%m%d).sql

# Backup de configuraciones
kubectl get all,cm,secrets -o yaml > k8s-backup-$(date +%Y%m%d).yaml
```
</Step>

<Step title="Entorno de Pruebas">
Validar actualizaciones en staging con datos representativos
</Step>
</Steps>

### 2. Secuencia de ActualizaciÃ³n Recomendada

<Tabs>
<Tab title="Fase 1: Infraestructura Base">
**Orden recomendado:**

1. **Kubernetes Control Plane** (siempre primero)
2. **kubectl y Helm** (herramientas de gestiÃ³n)
3. **Istio Service Mesh** (despuÃ©s de K8s)
4. **ArgoCD** (gestiÃ³n de aplicaciones)

```bash
# ActualizaciÃ³n de Kubernetes (ejemplo EKS)
eksctl upgrade cluster --name retrogame-prod --version 1.30

# ActualizaciÃ³n de nodos
eksctl upgrade nodegroup --cluster retrogame-prod --name main-nodes
```
</Tab>

<Tab title="Fase 2: Datos y Runtime">
**ActualizaciÃ³n de bases de datos:**

```bash
# PostgreSQL - ActualizaciÃ³n menor primero
kubectl patch postgresql postgresql-cluster \
  --type='merge' -p='{"spec":{"postgresqlVersion":"15.6"}}'

# Redis - Rolling update
kubectl set image deployment/redis redis=redis:7.2-alpine
```

**Node.js Runtime:**
```bash
# ActualizaciÃ³n gradual de aplicaciones
kubectl set image deployment/api-gateway \
  app=retrogame/api-gateway:node20-latest
```
</Tab>

<Tab title="Fase 3: Aplicaciones">
**ActualizaciÃ³n de servicios de aplicaciÃ³n:**

```bash
# Frontend
kubectl set image deployment/frontend \
  app=retrogame/frontend:react18-latest

# Game Engine
kubectl set image deployment/game-engine \
  engine=retrogame/game-engine:jsdos6.22-latest
```
</Tab>
</Tabs>

### 3. ValidaciÃ³n Post-ActualizaciÃ³n

<Callout type="info">
**Checklist de ValidaciÃ³n:**
</Callout>

- [ ] âœ… Todos los pods estÃ¡n en estado `Running`
- [ ] âœ… Servicios responden correctamente a health checks
- [ ] âœ… Base de datos accesible y datos Ã­ntegros
- [ ] âœ… AutenticaciÃ³n y autorizaciÃ³n funcionando
- [ ] âœ… Juegos se cargan y ejecutan correctamente
- [ ] âœ… MÃ©tricas y logs se generan normalmente

```bash
# Script de validaciÃ³n rÃ¡pida
#!/bin/bash
echo "ğŸ” Validando estado del cluster..."
kubectl get nodes,pods --all-namespaces | grep -E "(NotReady|Error|CrashLoop)"

echo "ğŸ® Probando endpoint de juegos..."
curl -f http://retrogame.cloud/api/health

echo "ğŸ“Š Verificando mÃ©tricas..."
kubectl top nodes
kubectl top pods --all-namespaces
```

## Procedimientos de Rollback

### Rollback AutomÃ¡tico

```yaml
# ConfiguraciÃ³n en deployment
spec:
  progressDeadlineSeconds: 600
  revisionHistoryLimit: 10
  strategy:
    rollingUpdate:
      maxUnavailable: 1
      maxSurge: 1
    type: RollingUpdate
```

### Rollback Manual

```bash
# Ver historial de deployments
kubectl rollout history deployment/api-gateway

# Rollback a versiÃ³n anterior
kubectl rollout undo deployment/api-gateway

# Rollback a versiÃ³n especÃ­fica
kubectl rollout undo deployment/api-gateway --to-revision=3

# Verificar estado del rollback
kubectl rollout status deployment/api-gateway
```

## Alertas y Monitoreo de Versiones

### ConfiguraciÃ³n de Alertas

```yaml
# AlertManager rule para versiones obsoletas
groups:
  - name: version-compatibility
    rules:
      - alert: KubernetesVersionDeprecated
        expr: kubernetes_build_info{version=~"1.27.*"}
        for: 0m
        labels:
          severity: critical
        annotations:
          summary: "Kubernetes version deprecated"
          description: "Kubernetes {{ $labels.version }} is deprecated and should be upgraded"
```

<Info>
Esta matriz se actualiza mensualmente. Ãšltima revisiÃ³n: Enero 2024
</Info>