---
title: Servicios - Visi√≥n General
description: Documentaci√≥n consolidada de todos los microservicios de RetroGameCloud
  con arquitectura, dependencias, endpoints principales y SLOs de rendimiento
icon: microchip
---

# 3. Visi√≥n General de Microservicios

RetroGameCloud est√° construido sobre una arquitectura de microservicios que proporciona escalabilidad, mantenibilidad y separaci√≥n de responsabilidades. Cada servicio tiene un prop√≥sito espec√≠fico y se comunica con otros servicios a trav√©s de APIs REST.

## 3.1. Arquitectura General

<div className="mermaid">

```mermaid
graph TB
    Client[Cliente Web/Mobile] --> Gateway[Kong API Gateway]

    Gateway --> Auth[Auth Service<br/>:8001]
    Gateway --> User[User Service<br/>:8002]
    Gateway --> Catalog[Game Catalog<br/>:8003]
    Gateway --> Score[Score Service<br/>:8004]
    Gateway --> Ranking[Ranking Service<br/>:8005]

    %% Comunicaci√≥n entre servicios
    User -.->|Valida tokens| Auth
    Score -.->|Valida usuarios| Auth
    Score -.->|Info usuarios| User
    Ranking -.->|Obtiene scores| Score
    Catalog -.->|Valida permisos| Auth

    %% Cache distribuido
    Auth --> Redis[(Redis<br/>Cache & Sessions)]
    User --> Redis
    Score --> Redis
    Ranking --> Redis

    %% Bases de datos
    Auth --> AuthDB[(PostgreSQL<br/>auth_db)]
    User --> UserDB[(PostgreSQL<br/>user_db)]
    Catalog --> CatalogDB[(PostgreSQL<br/>catalog_db)]
    Score --> ScoreDB[(PostgreSQL<br/>score_db)]
    Ranking --> RankingDB[(PostgreSQL<br/>ranking_db)]

    %% Servicios externos
    Catalog --> S3[AWS S3<br/>Game Assets]
    Gateway --> CDN[CloudFront CDN]

    %% Estilos
    classDef service fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef database fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef external fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    classDef cache fill:#fff3e0,stroke:#e65100,stroke-width:2px

    class Auth,User,Catalog,Score,Ranking service
    class AuthDB,UserDB,CatalogDB,ScoreDB,RankingDB database
    class S3,CDN external
    class Redis cache

```

</div>

## 3.2. SLOs por Servicio

Los Service Level Objectives (SLOs) definen los niveles de servicio esperados para cada microservicio. Estos valores se monitorizan continuamente y se utilizan para alertas y mejoras de rendimiento.

### 3.2.1. Auth Service

<div className="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
  <div className="flex items-center mb-2">
    <span className="font-semibold text-blue-800">üîê Servicio Cr√≠tico</span>
  </div>
  <p className="text-blue-700">Servicio esencial para toda la plataforma. Requiere m√°xima disponibilidad.</p>
</div>

| M√©trica | Objetivo | Actual | Estado |
|---------|----------|--------|---------|
| **Latencia P95** | ‚â§ 200ms | 185ms | ‚úÖ |
| **Disponibilidad** | ‚â• 99.9% | 99.95% | ‚úÖ |
| **Tasa de Error** | ‚â§ 0.1% | 0.05% | ‚úÖ |
| **Throughput** | ‚â• 1000 RPS | 1250 RPS | ‚úÖ |

### 3.2.2. User Service

<div className="bg-green-50 border-l-4 border-green-400 p-4 mb-4">
  <div className="flex items-center mb-2">
    <span className="font-semibold text-green-800">üë§ Servicio Principal</span>
  </div>
  <p className="text-green-700">Gesti√≥n de perfiles y datos de usuario. Alta demanda de lectura.</p>
</div>

| M√©trica | Objetivo | Actual | Estado |
|---------|----------|--------|---------|
| **Latencia P95** | ‚â§ 300ms | 245ms | ‚úÖ |
| **Disponibilidad** | ‚â• 99.5% | 99.8% | ‚úÖ |
| **Tasa de Error** | ‚â§ 0.2% | 0.15% | ‚úÖ |
| **Throughput** | ‚â• 800 RPS | 950 RPS | ‚úÖ |

### 3.2.3. Game Catalog Service

<div className="bg-purple-50 border-l-4 border-purple-400 p-4 mb-4">
  <div className="flex items-center mb-2">
    <span className="font-semibold text-purple-800">üéÆ Servicio Principal</span>
  </div>
  <p className="text-purple-700">Cat√°logo de juegos con assets pesados. Optimizado para cache.</p>
</div>

| M√©trica | Objetivo | Actual | Estado |
|---------|----------|--------|---------|
| **Latencia P95** | ‚â§ 500ms | 420ms | ‚úÖ |
| **Disponibilidad** | ‚â• 99.0% | 99.2% | ‚úÖ |
| **Tasa de Error** | ‚â§ 0.5% | 0.3% | ‚úÖ |
| **Throughput** | ‚â• 500 RPS | 680 RPS | ‚úÖ |

### 3.2.4. Score Service

<div className="bg-orange-50 border-l-4 border-orange-400 p-4 mb-4">
  <div className="flex items-center mb-2">
    <span className="font-semibold text-orange-800">üèÜ Servicio Secundario</span>
  </div>
  <p className="text-orange-700">Registro de puntuaciones. Escritura intensiva durante picos de juego.</p>
</div>

| M√©trica | Objetivo | Actual | Estado |
|---------|----------|--------|---------|
| **Latencia P95** | ‚â§ 400ms | 380ms | ‚úÖ |
| **Disponibilidad** | ‚â• 99.0% | 99.1% | ‚úÖ |
| **Tasa de Error** | ‚â§ 0.3% | 0.25% | ‚úÖ |
| **Throughput** | ‚â• 300 RPS | 420 RPS | ‚úÖ |

### 3.2.5. Ranking Service

<div className="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4">
  <div className="flex items-center mb-2">
    <span className="font-semibold text-yellow-800">üìä Servicio Secundario</span>
  </div>
  <p className="text-yellow-700">C√°lculos de rankings. Procesamiento batch y consultas complejas.</p>
</div>

| M√©trica | Objetivo | Actual | Estado |
|---------|----------|--------|---------|
| **Latencia P95** | ‚â§ 1000ms | 850ms | ‚úÖ |
| **Disponibilidad** | ‚â• 98.5% | 98.8% | ‚úÖ |
| **Tasa de Error** | ‚â§ 0.5% | 0.4% | ‚úÖ |
| **Throughput** | ‚â• 100 RPS | 150 RPS | ‚úÖ |

## 3.3. Resumen de Estado de SLOs

<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 my-6">
  <div className="bg-green-100 border border-green-400 rounded-lg p-4 text-center">
    <div className="text-2xl font-bold text-green-600">5/5</div>
    <div className="text-sm text-green-700">Servicios en SLO</div>
  </div>
  <div className="bg-blue-100 border border-blue-400 rounded-lg p-4 text-center">
    <div className="text-2xl font-bold text-blue-600">99.57%</div>
    <div className="text-sm text-blue-700">Disponibilidad Promedio</div>
  </div>
  <div className="bg-purple-100 border border-purple-400 rounded-lg p-4 text-center">
    <div className="text-2xl font-bold text-purple-600">416ms</div>
    <div className="text-sm text-purple-700">Latencia P95 Promedio</div>
  </div>
  <div className="bg-orange-100 border border-orange-400 rounded-lg p-4 text-center">
    <div className="text-2xl font-bold text-orange-600">3,450</div>
    <div className="text-sm text-orange-700">Throughput Total (RPS)</div>
  </div>
</div>

## 3.4. Alertas y Monitoreo

### Niveles de Criticidad

- **üî¥ Cr√≠tico**: Violaci√≥n de SLO > 5 minutos

- **üü° Warning**: Violaci√≥n de SLO < 5 minutos

- **üü¢ Info**: M√©tricas dentro de SLO

### Canales de Notificaci√≥n

- **Slack**: `#alerts-production`

- **PagerDuty**: Para servicios cr√≠ticos

- **Email**: Resumen diario de m√©tricas

<div className="bg-gray-50 border border-gray-200 rounded-lg p-4 mt-6">
  <h4 className="font-semibold mb-2">üìà Dashboards</h4>
  <ul className="list-disc list-inside space-y-1 text-sm">
    <li><a href="/monitoring/grafana" className="text-blue-600 hover:underline">Grafana - M√©tricas en Tiempo Real</a></li>
    <li><a href="/monitoring/prometheus" className="text-blue-600 hover:underline">Prometheus - Alertas y Queries</a></li>
    <li><a href="/monitoring/slos" className="text-blue-600 hover:underline">SLO Dashboard - Estado General</a></li>
  </ul>
</div>