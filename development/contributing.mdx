---
title: 5.2 Gu√≠a de Contribuci√≥n
sidebarTitle: 6.6. Gu√≠a de Contribuci√≥n
description: 'Proceso completo para contribuir al proyecto RetroGameCloud: est√°ndares
  de c√≥digo, pull requests y revisiones'
icon: users
---

# 5.2 Gu√≠a de Contribuci√≥n

Esta gu√≠a establece los est√°ndares y procesos para contribuir al proyecto RetroGameCloud de manera eficiente y manteniendo la calidad del c√≥digo.

## 5.2.1 Proceso de Contribuci√≥n

### 1. Preparaci√≥n del Entorno

<Tabs>
  <Tab title="Fork y Clone">
    ```bash
    # Fork del repositorio en GitHub
    # Luego clona tu fork localmente
    git clone https://github.com/tu-usuario/retrogamecloud.git
    cd retrogamecloud

    # Configura el repositorio upstream
    git remote add upstream https://github.com/original/retrogamecloud.git
    ```

  </Tab>

  <Tab title="Configuraci√≥n Local">
    ```bash
    # Instala dependencias
    npm install

    # Configura variables de entorno
    cp .env.example .env.local

    # Ejecuta tests para verificar setup
    npm test
    ```

  </Tab>
</Tabs>

### 2. Creaci√≥n de Branch

<Warning>
Siempre crea tu branch desde `main` actualizado y usa nombres descriptivos.
</Warning>

```bash

# Actualiza main
git checkout main
git pull upstream main

# Crea nueva branch
git checkout -b feat/nueva-funcionalidad

# o
git checkout -b fix/correccion-bug

# o
git checkout -b docs/actualizar-documentacion

```

### 3. Desarrollo y Commits

#### Convenci√≥n de Commits

Utilizamos [Conventional Commits](https://www.conventionalcommits.org/) con los siguientes tipos:

<Card title="Tipos de Commits" icon="git-branch">

- **feat:** Nueva funcionalidad

- **fix:** Correcci√≥n de bugs

- **docs:** Cambios en documentaci√≥n

- **style:** Cambios de formato (no afectan l√≥gica)

- **refactor:** Refactoring de c√≥digo

- **test:** A√±adir o modificar tests

- **chore:** Tareas de mantenimiento
</Card>

* *Ejemplos de commits:**

```bash
git commit -m "feat(auth): a√±adir autenticaci√≥n OAuth2"
git commit -m "fix(game-catalog): corregir filtro por categor√≠a"
git commit -m "docs(api): actualizar documentaci√≥n de endpoints"
git commit -m "test(user-service): a√±adir tests unitarios"

```

## 5.2.2 Est√°ndares de C√≥digo

### Configuraci√≥n de ESLint y Prettier

<Tabs>
  <Tab title=".eslintrc.js">
    ```javascript
    module.exports = {
      extends: [
        'next/core-web-vitals',
        '@typescript-eslint/recommended',
        'prettier'
      ],
      parser: '@typescript-eslint/parser',
      plugins: ['@typescript-eslint'],
      rules: {
        '@typescript-eslint/no-unused-vars': 'error',
        '@typescript-eslint/explicit-function-return-type': 'warn',
        'prefer-const': 'error',
        'no-console': 'warn'
      }
    };
    ```

  </Tab>

  <Tab title="prettier.config.js">
    ```javascript
    module.exports = {
      semi: true,
      trailingComma: 'es5',
      singleQuote: true,
      printWidth: 80,
      tabWidth: 2,
      useTabs: false
    };
    ```

  </Tab>
</Tabs>

### Reglas de TypeScript

<Card title="Buenas Pr√°cticas TypeScript" icon="code">

```typescript
// ‚úÖ Correcto
interface GameData {
  id: string;
  title: string;
  genre: GameGenre;
  releaseDate: Date;
}

const fetchGame = async (id: string): Promise<GameData> => {
  // implementaci√≥n
};

// ‚ùå Incorrecto
const fetchGame = async (id: any) => {
  // sin tipos definidos
};

```

</Card>

### Estructura de Componentes React

```tsx
import { FC, useState, useEffect } from 'react';
import { GameService } from '@/services/game.service';
import { GameData } from '@/types/game.types';

interface GameCardProps {
  gameId: string;
  onGameSelect: (game: GameData) => void;
}

export const GameCard: FC<GameCardProps> = ({
  gameId,
  onGameSelect
}) => {
  const [game, setGame] = useState<GameData | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    const loadGame = async (): Promise<void> => {
      try {
        const gameData = await GameService.fetchGame(gameId);
        setGame(gameData);
      } catch (error) {
        console.error('Error loading game:', error);
      } finally {
        setLoading(false);
      }
    };

    loadGame();
  }, [gameId]);

  if (loading) return <div>Cargando...</div>;
  if (!game) return <div>Game not found</div>;

  return (
    <div className="game-card" onClick={() => onGameSelect(game)}>
      <h3>{game.title}</h3>
      <p>{game.genre}</p>
    </div>
  );
};

```

## 5.2.3 Testing

### Tests Unitarios

<Tabs>
  <Tab title="Jest Configuration">
    ```javascript
    // jest.config.js
    module.exports = {
      testEnvironment: 'jsdom',
      setupFilesAfterEnv: ['<rootDir>/jest.setup.js'],
      moduleNameMapping: {
        '^@/(.*)$': '<rootDir>/src/$1',
      },
      collectCoverageFrom: [
        'src/**/*.{ts,tsx}',
        '!src/**/*.d.ts',
      ],
    };
    ```

  </Tab>

  <Tab title="Ejemplo de Test">
    ```typescript
    import { render, screen, fireEvent } from '@testing-library/react';
    import { GameCard } from '@/components/GameCard';
    import { GameService } from '@/services/game.service';

    jest.mock('@/services/game.service');

    describe('GameCard', () => {
      const mockGame = {
        id: '1',
        title: 'Test Game',
        genre: 'RPG',
        releaseDate: new Date('2023-01-01'),
      };

      beforeEach(() => {
        (GameService.fetchGame as jest.Mock).mockResolvedValue(mockGame);
      });

      it('should render game information', async () => {
        const onGameSelect = jest.fn();

        render(
          <GameCard gameId="1" onGameSelect={onGameSelect} />
        );

        expect(screen.getByText('Cargando...')).toBeInTheDocument();

        await screen.findByText('Test Game');
        expect(screen.getByText('RPG')).toBeInTheDocument();
      });

      it('should call onGameSelect when clicked', async () => {
        const onGameSelect = jest.fn();

        render(
          <GameCard gameId="1" onGameSelect={onGameSelect} />
        );

        const gameCard = await screen.findByText('Test Game');
        fireEvent.click(gameCard.closest('.game-card')!);

        expect(onGameSelect).toHaveBeenCalledWith(mockGame);
      });
    });
    ```

  </Tab>
</Tabs>

### Tests de Integraci√≥n

```typescript
// tests/integration/game-api.test.ts
import request from 'supertest';
import { app } from '@/app';
import { prisma } from '@/lib/prisma';

describe('Game API Integration', () => {
  beforeEach(async () => {
    await prisma.game.deleteMany();
  });

  afterAll(async () => {
    await prisma.$disconnect();
  });

  it('should create and retrieve a game', async () => {
    const gameData = {
      title: 'Integration Test Game',
      genre: 'Action',
      releaseDate: '2023-01-01',
    };

    // Crear juego
    const createResponse = await request(app)
      .post('/api/games')
      .send(gameData)
      .expect(201);

    const gameId = createResponse.body.id;

    // Obtener juego
    const getResponse = await request(app)
      .get(`/api/games/${gameId}`)
      .expect(200);

    expect(getResponse.body.title).toBe(gameData.title);
    expect(getResponse.body.genre).toBe(gameData.genre);
  });
});

```

## 5.2.4 Pull Request Process

### 1. Pre-requisitos

<Card title="Checklist antes del PR" icon="check-circle">

- [ ] C√≥digo sigue las convenciones establecidas

- [ ] Tests pasan (`npm test`)

- [ ] Linting sin errores (`npm run lint`)

- [ ] Build exitoso (`npm run build`)

- [ ] Documentaci√≥n actualizada si es necesario

- [ ] Branch actualizado con `main`
</Card>

### 2. Creaci√≥n del Pull Request

```bash

# Push de tu branch
git push origin feat/nueva-funcionalidad

# Crear PR desde GitHub UI

```

* *Template de PR:**

```markdown

## üìã Descripci√≥n

Descripci√≥n clara y concisa de los cambios realizados.

## üîß Tipo de cambio

- [ ] Bug fix (cambio que corrige un issue)

- [ ] Nueva feature (cambio que a√±ade funcionalidad)

- [ ] Breaking change (cambio que rompe compatibilidad)

- [ ] Documentaci√≥n

## üß™ Testing

- [ ] Tests unitarios a√±adidos/actualizados

- [ ] Tests de integraci√≥n verificados

- [ ] Testing manual completado

## üì∏ Screenshots (si aplica)

## üîç Checklist

- [ ] C√≥digo sigue style guidelines

- [ ] Self-review completado

- [ ] Comentarios a√±adidos en c√≥digo complejo

- [ ] Documentaci√≥n actualizada

- [ ] Tests pasan

```

### 3. Proceso de Revisi√≥n

<Steps>
  <Step title="Revisi√≥n Autom√°tica">
    CI/CD ejecuta tests y validaciones autom√°ticamente
  </Step>
  <Step title="Revisi√≥n por Pares">
    Al menos 2 reviewers deben aprobar el c√≥digo
  </Step>
  <Step title="Resoluci√≥n de Comentarios">
    Todos los comentarios deben ser resueltos antes del merge
  </Step>
  <Step title="Merge">
    Squash and merge para mantener historial limpio
  </Step>
</Steps>

## 5.2.5 Code Review Guidelines

### Para el Autor

<Card title="Antes de solicitar review" icon="user-edit">

- Revisa tu propio c√≥digo primero

- Ejecuta tests localmente

- A√±ade contexto en la descripci√≥n del PR

- Mant√©n PRs peque√±os y enfocados

- Documenta decisiones complejas
</Card>

### Para el Reviewer

<Card title="Qu√© revisar" icon="eye">

- **Funcionalidad:** ¬øEl c√≥digo hace lo que debe hacer?

- **Legibilidad:** ¬øEs f√°cil de entender?

- **Mantenibilidad:** ¬øEs f√°cil de modificar en el futuro?

- **Performance:** ¬øHay optimizaciones evidentes?

- **Seguridad:** ¬øExisten vulnerabilidades potenciales?

- **Tests:** ¬øLa cobertura es adecuada?
</Card>

### Comentarios Constructivos

```markdown

# ‚úÖ Bueno
Considera usar `useMemo` aqu√≠ para optimizar el renderizado:

```suggestion
const expensiveValue = useMemo(() => computeValue(data), [data]);

```

# ‚ùå Malo
Este c√≥digo est√° mal.

```

## 5.2.6 Documentaci√≥n de Cambios

### Changelog

Mant√©n actualizado el archivo `CHANGELOG.md`:

```markdown

## [1.2.0] - 2024-01-15

### Added

- Nueva funcionalidad de categor√≠as de juegos

- Filtros avanzados en cat√°logo

- API endpoint para estad√≠sticas

### Changed

- Mejorado rendimiento del componente GameList

- Actualizada interfaz de usuario del dashboard

### Fixed

- Corregido bug en autenticaci√≥n OAuth

- Solucionado problema de memoria en game streaming

### Deprecated

- Endpoint `/api/v1/games` (usar `/api/v2/games`)

```

### README Updates

Actualiza documentaci√≥n relevante cuando:

- A√±adas nuevas funcionalidades

- Cambies APIs p√∫blicas

- Modifiques configuraci√≥n

- A√±adas nuevas dependencias

## 5.2.7 Resoluci√≥n de Conflictos

### Conflictos de Merge

```bash

# Actualizar branch con main
git checkout feat/mi-feature
git fetch upstream
git rebase upstream/main

# Si hay conflictos, resolverlos manualmente
git add .
git rebase --continue

# Force push (cuidado)
git push origin feat/mi-feature --force-with-lease

```

### Mejores Pr√°cticas

<Warning>

- Nunca hagas force push a `main`

- Usa `--force-with-lease` en lugar de `--force`

- Comunica cambios breaking en el equipo

- Mant√©n PRs actualizados con main
</Warning>

<Tip>
Si tienes dudas sobre cualquier aspecto del proceso de contribuci√≥n, no dudes en preguntar en nuestro canal de Discord o crear una issue de discusi√≥n.
</Tip>